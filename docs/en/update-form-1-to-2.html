<p><img src="https://raw.githubusercontent.com/kitian616/jekyll-TeXt-theme/master/screenshots/TeXt-version-2.jpg" alt="TeXt 2" /></p>

<p>After several months effort, <strong>TeXt 2</strong> has finally released. the new version has lots of refactors and changes, which leads to some configuration incompatibilities. Hope this document will help you with your upgrade.</p>

<h2 id="skin">Skin</h2>

<p><code class="highlighter-rouge">text_color_theme</code> in <em>_config.yml</em> rename to <code class="highlighter-rouge">text_skin</code>.</p>

<p>1.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">text_color_theme</span><span class="pi">:</span> <span class="s">forest</span>
</code></pre></div></div>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">text_skin</span><span class="pi">:</span> <span class="s">forest</span>
</code></pre></div></div>

<h2 id="layout">Layout</h2>

<h3 id="article-layout">Article Layout</h3>

<p>Post Layout and Page Layout rename to Article Layout.</p>

<p>1.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">layout</span><span class="pi">:</span> <span class="s">post</span>
</code></pre></div></div>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">layout</span><span class="pi">:</span> <span class="s">page</span>
</code></pre></div></div>

<p>2.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">layout</span><span class="pi">:</span> <span class="s">article</span>
</code></pre></div></div>

<p>Since TOC, Edit on Github button, license and pageview are disabled by default on the new Article Layout, in order to keep same whit the former version, you can add these settings in the Front Matter:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">license</span><span class="pi">:</span> <span class="no">true</span>
<span class="na">aside</span><span class="pi">:</span>
  <span class="na">toc</span><span class="pi">:</span> <span class="no">true</span>
<span class="na">show_edit_on_github</span><span class="pi">:</span> <span class="no">true</span>
<span class="na">pageview</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div>

<p>You can also use <a href="https://jekyllrb.com/docs/configuration/#front-matter-defaults">Front Matter defaults</a> to specify configuration for all the posts of your site:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">defaults</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">scope</span><span class="pi">:</span>
      <span class="na">path</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">posts</span>
    <span class="na">values</span><span class="pi">:</span>
      <span class="na">layout</span><span class="pi">:</span> <span class="s">article</span>
      <span class="na">license</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">aside</span><span class="pi">:</span>
        <span class="na">toc</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">show_edit_on_github</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">pageview</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div>

<h3 id="archive-layout">Archive Layout</h3>

<p>All Layout rename to Archive Layout.</p>

<p>1.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">layout</span><span class="pi">:</span> <span class="s">all</span>
</code></pre></div></div>

<p>2.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">layout</span><span class="pi">:</span> <span class="s">archive</span>
</code></pre></div></div>

<h2 id="paths">Paths</h2>

<p>In order to maintain consistency with the layout naming, TeXt 2 renamed <em>all.html</em> to <em>archive.html</em>. <code class="highlighter-rouge">base</code> and <code class="highlighter-rouge">all</code> variables under <code class="highlighter-rouge">paths</code> in <em>_config.yml</em> has renamed to <code class="highlighter-rouge">root</code> and <code class="highlighter-rouge">archive</code>.</p>

<p>1.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">paths</span><span class="pi">:</span>
  <span class="na">base    </span><span class="pi">:</span> <span class="s">/blog</span>
  <span class="na">all     </span><span class="pi">:</span> <span class="s">/blog/all.html</span>
  <span class="na">rss     </span><span class="pi">:</span> <span class="s">/feed.xml</span>
</code></pre></div></div>

<p>2.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">paths</span><span class="pi">:</span>
  <span class="na">root    </span><span class="pi">:</span> <span class="s">/blog</span>
  <span class="na">home    </span><span class="pi">:</span> <span class="s">/blog</span>
  <span class="na">archive </span><span class="pi">:</span> <span class="s">/blog/archive.html</span>
  <span class="na">rss     </span><span class="pi">:</span> <span class="s">/feed.xml</span>
</code></pre></div></div>

<h2 id="license">License</h2>

<p>You need to specify <code class="highlighter-rouge">license</code> in <em>_config.yml</em> to enable license, which default to <code class="highlighter-rouge">false</code>:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">license</span><span class="pi">:</span> <span class="s">CC-BY-4.0</span>
</code></pre></div></div>

<h2 id="comments">Comments</h2>

<p>There are some changes for configuration of comments, pageview and analytics in TeXt 2. which mainly add a <code class="highlighter-rouge">provider</code> attribute and change providers into corresponding sub-configuration items.</p>

<p>1.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">disqus</span><span class="pi">:</span>
  <span class="na">shortname</span><span class="pi">:</span> <span class="s">kitian616-github-io</span>
</code></pre></div></div>

<p>2.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">comments</span><span class="pi">:</span>
  <span class="na">provider</span><span class="pi">:</span> <span class="s">disqus</span>
  <span class="na">disqus</span><span class="pi">:</span>
    <span class="na">shortname</span><span class="pi">:</span> <span class="s">kitian616-github-io</span>
</code></pre></div></div>

<h2 id="pageview">Pageview</h2>

<p>1.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">leancloud</span><span class="pi">:</span>
  <span class="na">app_id</span><span class="pi">:</span> <span class="s">uAG3OhdcH8H4fxSqXLyBljA7-gzGzoHsz</span>
  <span class="na">app_key</span><span class="pi">:</span> <span class="s">Mzf5m9skSwYVWVXhGiYMNyXs</span>
  <span class="na">app_class</span><span class="pi">:</span> <span class="s">ThomasBlog</span>
</code></pre></div></div>

<p>2.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">pageview</span><span class="pi">:</span>
  <span class="na">provider</span><span class="pi">:</span> <span class="s">leancloud</span>
  <span class="na">leancloud</span><span class="pi">:</span>
    <span class="na">app_id</span><span class="pi">:</span> <span class="s">uAG3OhdcH8H4fxSqXLyBljA7-gzGzoHsz</span>
    <span class="na">app_key</span><span class="pi">:</span> <span class="s">Mzf5m9skSwYVWVXhGiYMNyXs</span>
    <span class="na">app_class</span><span class="pi">:</span> <span class="s">ThomasBlog</span>
</code></pre></div></div>

<h2 id="analytics">Analytics</h2>

<p>1.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">ga_tracking_id</span><span class="pi">:</span> <span class="s">UA-71907556-1</span>
</code></pre></div></div>
<p>2.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">analytics</span><span class="pi">:</span>
  <span class="na">provider</span><span class="pi">:</span> <span class="s">google</span>
  <span class="na">google</span><span class="pi">:</span>
    <span class="na">tracking_id</span><span class="pi">:</span> <span class="s">UA-71907556-1</span>
</code></pre></div></div>

<h2 id="logo-and-favicon">Logo and Favicon</h2>

<p>The location of the default logo has changed。the old icon generation tool has been removed，TeXt 2 recommend <a href="https://realfavicongenerator.net/">RealFaviconGenerator</a> for generating favicon.</p>

<h2 id="navigator">Navigator</h2>

<p>The navigation configuration at the top right of the site has been moved to <em>_data/navigation.yml</em> and the entire navigation is freely customizable in the new version.</p>

<p>1.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">nav_lists</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">titles</span><span class="pi">:</span>
      <span class="na">en</span><span class="pi">:</span> <span class="s">About</span>
      <span class="na">zh</span><span class="pi">:</span> <span class="s">关于</span>
      <span class="na">zh-Hans</span><span class="pi">:</span> <span class="s">关于</span>
      <span class="na">zh-Hant</span><span class="pi">:</span> <span class="s">關於</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">/blog/about.html</span>
</code></pre></div></div>

<p>2.x:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## _data/navigation.yml</span>
<span class="na">header</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">titles</span><span class="pi">:</span>
      <span class="na">en</span><span class="pi">:</span>       <span class="s">Archive</span>
      <span class="na">zh</span><span class="pi">:</span>       <span class="s">归档</span>
      <span class="na">zh-Hans</span><span class="pi">:</span>  <span class="s">归档</span>
      <span class="na">zh-Hant</span><span class="pi">:</span>  <span class="s">歸檔</span>
    <span class="na">url</span><span class="pi">:</span>        <span class="s">/blog/archive.html</span>
  <span class="pi">-</span> <span class="na">titles</span><span class="pi">:</span>
      <span class="na">en</span><span class="pi">:</span>       <span class="s">About</span>
      <span class="na">zh</span><span class="pi">:</span>       <span class="s">关于</span>
      <span class="na">zh-Hans</span><span class="pi">:</span>  <span class="s">关于</span>
      <span class="na">zh-Hant</span><span class="pi">:</span>  <span class="s">關於</span>
    <span class="na">url</span><span class="pi">:</span>        <span class="s">/blog/about.html</span>
</code></pre></div></div>
